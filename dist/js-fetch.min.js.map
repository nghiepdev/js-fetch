{"version":3,"sources":["../index.js"],"names":[],"mappings":"mOAAA,CAAC,UAAM,CACL,GAAM,KAAN,CAEM,EAAU,aAAoD,0HAAV,KAAU,CAClE,MAAO,IAAI,QAAJ,CAAY,aAAqB,CACtC,KAAwB,WAApB,QAAO,SAAX,EA0CE,EAAO,GAAI,MAAJ,CAAU,wCAAV,CAAP,CA1CF,KACE,IAAI,CAAC,EAAK,QAAL,GAAL,CAAyB,CACvB,GAAM,GAAK,SAAS,aAAT,CAAuB,QAAvB,CAAX,CAGA,GAFA,EAAG,GAAH,EAEA,CAA0B,QAAtB,mDAAkC,CAAC,MAAM,OAAN,GAAvC,CACE,IAAK,GAAM,EAAX,MACE,KAAQ,IAAR,CAIJ,EAAG,OAAH,CAAa,EAAG,MAAH,CAAY,WAAO,CAC1B,GAAoB,OAAb,KAAI,IADe,GAE5B,EAAG,MAAH,EAF4B,CAG5B,IAH4B,KAM5B,EAAQ,SAAR,CAN4B,CAQ9B,GACD,CAnBsB,CAqBvB,SAAS,IAAT,CAAc,WAAd,GArBuB,CAsBvB,EAAK,IAAL,GACD,CAvBD,IAwBE,MAAa,CACX,GAAM,GAAgB,YAAY,UAAM,CAClC,SADkC,GAEpC,gBAFoC,CAGpC,EAAQ,SAAR,CAHoC,CAKvC,CALqB,CAKnB,GALmB,CAAtB,CAOA,WAAW,UAAM,CACf,gBADe,CAEf,EAAO,0BAAP,CACD,CAHD,GAID,CAZD,IAaE,IAMP,CA7CM,CA8CR,CAjDD,CAmDuB,QAAnB,uBAAO,QAAP,qBAAO,OAAP,IAAiD,QAAlB,uBAAO,OAAP,qBAAO,MAAP,EApD9B,CAqDH,OAAO,OAAP,EArDG,CAsDwB,UAAlB,QAAO,OAAP,EAAgC,OAAO,GAtD7C,CAuDH,OAAO,oBAAP,CAvDG,CAwDwB,WAAlB,QAAO,OAxDb,GAyDH,OAAO,OAAP,EAzDG,CA2DN,CA3DD,G","file":"js-fetch.min.js","sourcesContent":["(() => {\n  const urls = [];\n\n  const jsFetch = (url, waitVar, attributes = {}, timeout = 15000) => {\n    return new Promise((resolve, reject) => {\n      if (typeof document !== 'undefined') {\n        if (!urls.includes(url)) {\n          const el = document.createElement('script');\n          el.src = url;\n\n          if (typeof attributes === 'object' && !Array.isArray(attributes)) {\n            for (const i in attributes) {\n              el[i] = attributes[i];\n            }\n          }\n\n          el.onerror = el.onload = err => {\n            if (err && err.type === 'error') {\n              el.remove();\n              reject(err);\n            }\n            if (waitVar) {\n              resolve(window[waitVar]);\n            }\n            resolve();\n          };\n\n          document.body.appendChild(el);\n          urls.push(url);\n        } else {\n          if (waitVar) {\n            const timerInterval = setInterval(() => {\n              if (window[waitVar]) {\n                clearInterval(timerInterval);\n                resolve(window[waitVar]);\n              }\n            }, 500);\n\n            setTimeout(() => {\n              clearInterval(timerInterval);\n              reject('Cannot found variable ' + waitVar);\n            }, timeout);\n          } else {\n            resolve();\n          }\n        }\n      } else {\n        reject(new Error('This package is not called during SSR.'));\n      }\n    });\n  };\n\n  if (typeof exports === 'object' && typeof module === 'object') {\n    module.exports = jsFetch;\n  } else if (typeof define === 'function' && define.amd) {\n    define(() => jsFetch);\n  } else if (typeof window !== 'undefined') {\n    window.jsFetch = jsFetch;\n  }\n})();\n"]}